{% extends "nav_top.html"%}
{% block body %}
{{super()}}
<div class="container">
	<div class="row">
		<div class="col-md-3 col-sm-3 col-xs-6">
			<div class="panel-group" id="accordion">
				<div class="panel panel-default">
			    	<div class="panel-heading">
			    		 <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
                            	<img src="/static/img/1396436927_MB__Champions_League.png">
                        	Pictogram</a>
                        </h4>
			    	</div>
			    	<div id="collapseOne" class="panel-collapse collapse">
			      		<div class="panel-body">
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1399317952_battery28.svg" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1399317991_glasses2.svg" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1399318005_international.svg" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1399318013_airplane1.svg" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1399318022_wrench1.svg" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1399318028_balance.svg" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1399318034_umbrella2.svg" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1399318041_silhouette5.svg" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1399318052_leaves1.svg" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1399318061_world7.svg" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1399318067_desk.svg" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1399318072_connections1.svg" class="product">
			        		</div>
			      		</div>
			    	</div>
		  		</div>
			  	<div class="panel panel-default">
			    	<div class="panel-heading">
			    		 <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
                            	<img src="/static/img/1396436861_MB__Favs.png">
                        	Icon</a>
                        </h4>
			    	</div>
			    	<div id="collapseTwo" class="panel-collapse collapse">
			      		<div class="panel-body">
			      			<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1398798359_03-twitter.svg" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1398798359_03-twitter.svg" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1398798359_03-twitter.svg" class="product">
			        		</div>
			      		</div>
			    	</div>
		  		</div>
		  		<div class="panel panel-default">
			    	<div class="panel-heading">
			    		 <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree">
                            	<img src="/static/img/1396436845_MB__landskape.png">Background</a>
                        </h4>
			    	</div>
			    	<div id="collapseThree" class="panel-collapse collapse">
			      		<div class="panel-body">
			      			<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/black_background_metal_hole-wallpaper-1280x768.jpg" style="width:50px; height: 50px" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/Wood-Pattern-Background.jpg"style="width:50px; height: 50px" class="product">
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<img src="/static/img/1646623.jpg" style="width:50px; height: 50px" class="product">
			        		</div>
			      		</div>
			    	</div>
		  		</div>
		  		<div class="panel panel-default">
			    	<div class="panel-heading">
			    		 <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseFour">
                            	<img src="/static/img/1396436963_MB__compas.png">Tools</a>
                        </h4>
			    	</div>
			    	<div id="collapseFour" class="panel-collapse collapse">
			      		<div class="panel-body">
			      			<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<button id="chart_btn" data-toggle="modal" data-target="#modal-charts"><img src="../static/img/chart.PNG" style="width: 40px;height: 50px"/></button>
			        		</div>
			        		<div class="col-md-4 col-sm-4 col-xs-6 draggable">
			        			<button id="map_btn"><img src="/static/img/map.PNG" style="width: 40px;height: 50px" /></button>
			        		</div>
			      		</div>
			    	</div>
			    	<div class="panel panel-default">
			    	<div class="panel-heading">
			    		 <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseFive">
                            	<img src="/static/img/1396436890_MB__pen.png">
                        	Text</a>
                        </h4>
			    	</div>
			    	<div id="collapseFive" class="panel-collapse collapse">
			      		<div class="panel-body">
			      			<ul id="mainlist-text" class="font-list">
								<li id="text-H1" data-oType="text" data-tType="H1" class="draggable_t"><a>Title</a></li>
								<li id="text-H2" data-oType="text" data-tType="H2" class="draggable_t"><a>Subtitle</a></li>
								<li id="text-H3" data-oType="text" data-tType="H3" class="draggable_t"><a>Subtitle 2</a></li>
								<li id="text-H4" data-oType="text" data-tType="H4" class="draggable_t"><a>Subtitle 3</a></li>
								<li id="text-T1" data-oType="text" data-tType="T1" class="draggable_t"><a>Body Text</a></li>
							</ul>
			      		</div>
			    	</div>
		  		</div>
		  		</div>
			</div>
		</div>
		<div class="col-md-9 col-sm-9 col-xs-12">
			<div class="ToolMenu">
				<button class="canvas_clear_btn" type="button">New</button>
				<small>Auto saved at 12:00</small>
				<button type="button">Save</button>
				<div class="color-box"> </div>
				<div id="dialog-confirm"> </div>
			</div>
			<div id="droppable" class="myCanvas"> </div>
		</div>
	</div>
</div>


<script type="text/javascript">
$(function(){
	
	var counts =[0];
	var $text_H1 = $('<textarea id="text_H1">Title</textarea>');
	var $text_H2 = $('<textarea id="text_H2">SubTitle</textarea>');
	var $text_H3 = $('<textarea id="text_H3">SubTitle2</textarea>');
	var $text_H4 = $('<textarea id="text_H4">SubTitle3</textarea>');
	var $text_T1 = $('<textarea id="text_H5">Body Text</textarea>');
	var resizeOpts = { handles : "all", autoHide: false};
	
	$('.draggable_t').draggable({
		helper :'clone',
		start: function(){
			$('#droppable').append($text_H1);
			$('#droppable').append($text_H2);
			$('#droppable').append($text_H3);
			$('#droppable').append($text_H4);
			$('#droppable').append($text_T1);
			counts[0]++;
		}
	});
	$('#droppable').droppable({
		accept :'.draggable_t',
		drop: handleDropEvent
	}); 
	function handleDropEvent(event, ui)
	{
		if(ui.draggable.hasClass("draggable"))
		{
			$(this).append($(ui.helper).clone());
			$("#droppable .draggable_t").addClass("text-"+ counts[0]);
			$("#droppable .text-"+ counts[0]).removeClass("draggable ui-draggable ui-draggable-dragging");
	
			$(".text-"+ counts[0]).dblclick(function() {
				$(this).remove();
			});
		
			make_draggable($(".text-"+ counts[0])); 
            $(".text-"+ counts[0]).resizable(resizeOpts);

		}
	}
});
	var zIndex=0;
	function make_draggable(elements)
	{
		elements.draggable({
			containment : 'parent',
			start : function(event, ui){
					ui.helper.css('z-index', ++zIndex); },
			stop :function(event, ui){}
		});	
	}
</script>

<script type="text/javascript">
$(function(){
	var counts = [0];
	var i = 0;
	var resizeOpts = { handles : "all", autoHide: false};
	
	$('.draggable').draggable({
		helper :'clone',
		start: function(){
		counts[0]++;
		i++;
		
		}
	});
	$('#droppable').droppable({
		accept :'.draggable',
		drop: handleDropEvent
	}); 
	function handleDropEvent(event, ui)
	{
		if(ui.draggable.hasClass("draggable"))
		{
			$(this).append($(ui.helper).clone());
			$("#droppable .draggable").addClass("item-"+ counts[0]);
			$("#droppable img").addClass("imgSize-"+ counts[0]);
			$("#droppable .item-"+ counts[0]).removeClass("draggable ui-draggable ui-draggable-dragging");
	
			$(".item-"+ counts[0]).dblclick(function() {
				$(this).remove();
			});
		
			make_draggable($(".item-"+ counts[0])); 
            $(".imgSize-"+ counts[0]).resizable(resizeOpts);
            
            $('.canvas_clear_btn').click(NewInfographic);
                function NewInfographic(){
               	$("#dialog-confirm").html("이전의 내용이 모두 없어집니다.");
           		$('#dialog-confirm').dialog({	
                	resizable: false,
			        modal: true,
			        title: "New Infographic",
			        height: 180,
			        width: 300,
			        buttons: {
			            "Yes": function(){
			            	$('.product.imgSize-'+ i).remove();
							$('.item-'+ i).remove();
			                $(this).dialog('close');
			                callback(true);
			            },
			            "No": function(){
			                $(this).dialog('close');
			                callback(false);
			            }
			        }
			    });
			    function callback(value) {
				    if (value) {
				        alert("새로운 인포그래픽입니다.");
				    } else {
				        alert("취소되었습니다.");
				    }
				}
			}
		}
	}
});
	var zIndex=0;
	function make_draggable(elements)
	{
		elements.draggable({
			containment : 'parent',
			start : function(event, ui){
					ui.helper.css('z-index', ++zIndex); },
			stop :function(event, ui){}
		});	
	}
	 
</script>

<script type="text/javascript">
	var change_item_color;
	change_item_color = $('.img_twitter');
	
	$('.color-box').colpick({
	colorScheme:'dark',
	layout:'rgbhex',
	color:'ff8800',
	onSubmit:function(hsb,hex,rgb,event) {
		$(event).css('background-color', '#'+ hex);
		change_item_color.css('fill','#' + hex);
		$('.color-box').colpickHide();
	}
})
.css('background-color', '#ff8800');
</script>

<script type="text/javascript">
	$(function () {
   $('#modal-charts').modal('hide');
});
</script>

{% endblock %}
